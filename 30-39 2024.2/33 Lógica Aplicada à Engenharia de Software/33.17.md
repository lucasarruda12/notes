# Java Modeling Language

linguagem de especificacao de interface comportamental para modelos Java, que tem mais de duas décadas de historia e segue o paradigma de Design by Contract.

- As especificações são escritas na forma de comentários (anotações) em arquivos Java ou arquivos próprios voltados para especificação.

## OpenJML

- Faz a verificacao dedutiva do probrama Java para verificar se ele satisfaz sua especificacao JML
- Fornce suporte robusto para muitos dos recursos do JML
- Facil para profissionais e alunos usarem para especificar e verificar programas Java
- Permite verificacao estatica e verificacao dinamica

## Verificacao estatica vs verificacao dinamica

- Verificacao dinamica: feita atraves da execucao de casos de teste do programa. Geralmente é mais fácil de escrever especificacoes.

- Verificacao estatica: Feita sem a execucao do prorgama. Tambem chamada de Extended Static Checking (ESC) ou Deductive Verification (DV).
    - Verificacao estatica fornece garantias mais fortes sobre o comportamento do programa.

## Verificacao dedutiva

Semelhante a execucao logica e simbolica ed um metodo para cada conjunto legal possivel de entradas. Assim, verificacoes bem-sucedidas garantem a corretude (diferente dos testes)

- Cada metodo é verificado por conta própria usando as especificacoes (não as implementações) dos outros métodos.

- Abordagem válida se todos os metodos forem verificados com sucesso.

## Especificação de classes

- Métodos:
    - Pré-condicoes: requires
    - Pos-condicoes: ensures
    - Condicoes de quadro (frame conditions): assignable e pure

- Classes e interfaces
    - Atributos com especificacao publica: `spec_public`
    - Atributos que podem ter valor null: `nullable`
    - invariante de classe: `invariant`

### Pos condicoes

Declara o que o método faz, e nào como é feitooa declarar as condicoes que devem ser satisfeitas no final do metodo.

- Deve ser garantido pelo implementador
- Pode ser assumido por quem invoca o metodo
- Clausula: `ensures`

- Clausula `ensures_redundantly`
    - Alerta ao leitor
    - Declara algo a ser provado
    - Deve ser uma implicacao dos `ensures`, `assignable` e `invariant`

### Pre condicoes

Declara as condicoes sobre o estado do programa e argumentos reais sobre as quais o metodo pode ser invocado

- Deve ser garantido por quem invoca o metodo
- Pode ser ssumido pelo implementador
- Clausula: `requires`
- Tamebm tem a clausula `requires_redundantly`

### Ordem das clausulas

não há ordem predefinida para as clausulas dentro de um caso de especificacao, porem recomenda-se seguir: Pre-condicoes primeiro e pos-condicoes depois.

- Dentro do grupo de pre-condição dentro do grupo de pos-condicão as clausulas anteriores podem definir coisas sobre as seguintes e torná-las bem definidas.

### Clausula OLD

Calcula o valor de uma expressao no estado inicial (pre-estado) de um metodo. Geralmente usado em pos-condicoes.

### Modificadores e especificacao de visibilidade

- Especiicacoes tambem tem visibilidade: tipicamente, a especificacao de um metodo tem as mesma visibilidade do metodo que ele especifica.
